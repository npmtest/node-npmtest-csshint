<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for node-npmtest-csshint/node_modules/csshint/lib/checker.js</title>
    <meta charset="utf-8">
    <style>
        body, html {
            margin:0; padding: 0;
        }
        body {
            font-family: Arial, Helvetica;
            font-size: 10pt;
        }
        div.header, div.footer {
            background: #eee;
            padding: 1em;
        }
        div.header {
            height: 160px;
            padding: 0 1em 0 1em;
            z-index: 100;
            position: fixed;
            top: 0;
            border-bottom: 1px solid #666;
            width: 100%;
        }
        div.footer {
            border-top: 1px solid #666;
        }
        div.body {
            margin-top: 170px;
        }
        div.meta {
            font-size: 90%;
            text-align: center;
        }
        h1, h2, h3 {
            font-weight: normal;
        }
        h1 {
            font-size: 12pt;
        }
        h2 {
            font-size: 10pt;
        }
        pre {
            font-family: Menlo, Monaco, Consolas, Courier New, monospace;
            margin: 0;
            padding: 0;
            font-size: 14px;
            tab-size: 2;
        }

        div.path { font-size: 110%; }
        div.path a:link, div.path a:visited { color: #000; }
        table.coverage { border-collapse: collapse; margin:0; padding: 0 }

        table.coverage td {
            margin: 0;
            padding: 0;
            color: #111;
            vertical-align: top;
        }
        table.coverage td.line-count {
            width: 50px;
            text-align: right;
            padding-right: 5px;
        }
        table.coverage td.line-coverage {
            color: #777 !important;
            text-align: right;
            border-left: 1px solid #666;
            border-right: 1px solid #666;
        }

        table.coverage td.text {
        }

        table.coverage td span.cline-any {
            display: inline-block;
            padding: 0 5px;
            width: 40px;
        }
        table.coverage td span.cline-neutral {
            background: #eee;
        }
        table.coverage td span.cline-yes {
            background: #b5d592;
            color: #999;
        }
        table.coverage td span.cline-no {
            background: #fc8c84;
        }

        .cstat-yes { color: #111; }
        .cstat-no { background: #fc8c84; color: #111; }
        .fstat-no { background: #ffc520; color: #111 !important; }
        .cbranch-no { background:  yellow !important; color: #111; }

        .cstat-skip { background: #ddd; color: #111; }
        .fstat-skip { background: #ddd; color: #111 !important; }
        .cbranch-skip { background: #ddd !important; color: #111; }

        .missing-if-branch {
            display: inline-block;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: black;
            color: yellow;
        }

        .skip-if-branch {
            display: none;
            margin-right: 10px;
            position: relative;
            padding: 0 4px;
            background: #ccc;
            color: white;
        }

        .missing-if-branch .typ, .skip-if-branch .typ {
            color: inherit !important;
        }

        .entity, .metric { font-weight: bold; }
        .metric { display: inline-block; border: 1px solid #333; padding: 0.3em; background: white; }
        .metric small { font-size: 80%; font-weight: normal; color: #666; }

        div.coverage-summary table { border-collapse: collapse; margin: 3em; font-size: 110%; }
        div.coverage-summary td, div.coverage-summary table  th { margin: 0; padding: 0.25em 1em; border-top: 1px solid #666; border-bottom: 1px solid #666; }
        div.coverage-summary th { text-align: left; border: 1px solid #666; background: #eee; font-weight: normal; }
        div.coverage-summary th.file { border-right: none !important; }
        div.coverage-summary th.pic { border-left: none !important; text-align: right; }
        div.coverage-summary th.pct { border-right: none !important; }
        div.coverage-summary th.abs { border-left: none !important; text-align: right; }
        div.coverage-summary td.pct { text-align: right; border-left: 1px solid #666; }
        div.coverage-summary td.abs { text-align: right; font-size: 90%; color: #444; border-right: 1px solid #666; }
        div.coverage-summary td.file { text-align: right; border-left: 1px solid #666; white-space: nowrap;  }
        div.coverage-summary td.pic { min-width: 120px !important;  }
        div.coverage-summary a:link { color: #000; }
        div.coverage-summary a:visited { color: #333; }
        div.coverage-summary tfoot td { border-top: 1px solid #666; }

        div.coverage-summary .yui3-datatable-sort-indicator, div.coverage-summary .dummy-sort-indicator {
            height: 10px;
            width: 7px;
            display: inline-block;
            margin-left: 0.5em;
        }
        div.coverage-summary .yui3-datatable-sort-indicator {
            background: no-repeat scroll 0 0 transparent;
        }
        div.coverage-summary .yui3-datatable-sorted .yui3-datatable-sort-indicator {
            background-position: 0 -20px;
        }
        div.coverage-summary .yui3-datatable-sorted-desc .yui3-datatable-sort-indicator {
            background-position: 0 -10px;
        }

        .high { background: #b5d592 !important; }
        .medium { background: #ffe87c !important; }
        .low { background: #fc8c84 !important; }

        span.cover-fill, span.cover-empty {
            display:inline-block;
            border:1px solid #444;
            background: white;
            height: 12px;
        }
        span.cover-fill {
            background: #ccc;
            border-right: 1px solid #444;
        }
        span.cover-empty {
            background: white;
            border-left: none;
        }
        span.cover-full {
            border-right: none !important;
        }
        pre.prettyprint {
            border: none !important;
            padding: 0 !important;
            margin: 0 !important;
        }
        .com { color: #999 !important; }
        .ignore-none { color: #999; font-weight: normal; }

    </style>
</head>
<body>
<div class="header low">
    <h1 style="font-weight: bold;">
        <a href="https://github.com/npmtest/node-npmtest-csshint">npmtest-csshint (v0.0.1)</a>
    </h1>
    <h1>Code coverage report for <span class="entity">node-npmtest-csshint/node_modules/csshint/lib/checker.js</span></h1>
    <h2>
        
        Statements: <span class="metric">28.71% <small>(29 / 101)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Branches: <span class="metric">10% <small>(4 / 40)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Functions: <span class="metric">7.69% <small>(1 / 13)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        
        Lines: <span class="metric">28% <small>(28 / 100)</small></span> &nbsp;&nbsp;&nbsp;&nbsp;
        
        Ignored: <span class="metric">2 statements, 1 branch</span> &nbsp;&nbsp;&nbsp;&nbsp;
    </h2>
    <div class="path"><a href="../../../../index.html">All files</a> &#187; <a href="index.html">node-npmtest-csshint/node_modules/csshint/lib/</a> &#187; checker.js</div>
</div>
<div class="body">
<pre><table class="coverage">
<tr><td class="line-count">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307</td><td class="line-coverage"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">'use strict';
&nbsp;
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.checkString = checkString;
exports.check = check;
&nbsp;
var _path = require('path');
&nbsp;
var _fs = require('fs');
&nbsp;
var _chalk = require('chalk');
&nbsp;
var _chalk2 = _interopRequireDefault(_chalk);
&nbsp;
var _postcss = require('postcss');
&nbsp;
var _postcss2 = _interopRequireDefault(_postcss);
&nbsp;
var _objectAssign = require('object-assign');
&nbsp;
var _objectAssign2 = _interopRequireDefault(_objectAssign);
&nbsp;
var _util = require('./util');
&nbsp;
var _edpCore = require('edp-core');
&nbsp;
var _config = require('./config');
&nbsp;
function _interopRequireDefault(obj) { return obj &amp;&amp; obj.__esModule ? <span class="branch-0 cbranch-no" title="branch not covered" >obj </span>: { default: obj }; }
&nbsp;
/**
 * @file checker 针对 css 文件的校验器
 * @author ielgnaw(wuji0223@gmail.com)
 */
&nbsp;
'use strict';
&nbsp;
/**
 * rule 逻辑实现的文件夹路径
 */
var ruleDir = (0, _path.join)(__dirname, './rule');
&nbsp;
/**
 * 检测的默认配置
 *
 * @const
 * @type {Object}
 */
var DEFAULT_CONFIG = (0, _objectAssign2.default)({}, (0, _config.loadConfig)('.', true));
&nbsp;
/**
 * 为 max-error 服务的，记录整个的错误个数
 *
 * @type {number}
 */
global.CSSHINT_INVALID_ALL_COUNT = 0;
&nbsp;
/**
 * 记录项目级别的 font-family 大小写信息，key 为小写格式，value 为真实的值
 * {'arial': 'Arial'}
 *
 * @type {Object}
 */
global.CSSHINT_FONTFAMILY_CASE_FLAG = {};
&nbsp;
/**
 * 匹配行内 csshint key: value, ... 的正则
 *
 * @const
 * @type {RegExp}
 */
var INLINE_PATTERN = /\/\*+\s*\bcsshint[^-disable]\b\s*(.*)\s*\*\//gmi;
&nbsp;
/**
 * 分析行内注释
 *
 * @param {string} fileContent 当前检测的文件内容
 * @param {Object} rcConfig 当前检测的文件的检测规则
 *
 * @return {Object} inline Rule
 */
var analyzeInlineRule = <span class="fstat-no" title="function not covered" >function analyzeInlineRule(fileContent, rcConfig) {</span>
<span class="cstat-no" title="statement not covered" >    var ret = {};</span>
<span class="cstat-no" title="statement not covered" >    var inlineObj = null;</span>
<span class="cstat-no" title="statement not covered" >    var match = null;</span>
&nbsp;
    /* jshint loopfunc:true */
    /* eslint-disable no-extra-boolean-cast, no-loop-func */
<span class="cstat-no" title="statement not covered" >    while (!!(match = INLINE_PATTERN.exec(fileContent))) {</span>
<span class="cstat-no" title="statement not covered" >        var matchRules = match[1];</span>
<span class="cstat-no" title="statement not covered" >        var jsonStr = matchRules.replace(/([^,]*)(?=:)/g, <span class="fstat-no" title="function not covered" >function (word) {</span></span>
<span class="cstat-no" title="statement not covered" >            if (word) {</span>
<span class="cstat-no" title="statement not covered" >                word = word.replace(/\s/g, '');</span>
<span class="cstat-no" title="statement not covered" >                return '"' + word + '"';</span>
            }
<span class="cstat-no" title="statement not covered" >            return '';</span>
        });
<span class="cstat-no" title="statement not covered" >        jsonStr = '{' + jsonStr + '}';</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >        try {</span>
<span class="cstat-no" title="statement not covered" >            inlineObj = JSON.parse(jsonStr);</span>
        } catch (e) {}
&nbsp;
<span class="cstat-no" title="statement not covered" >        if (inlineObj) {</span>
            /* eslint-disable fecs-use-for-of */
<span class="cstat-no" title="statement not covered" >            for (var p in inlineObj) {</span>
<span class="cstat-no" title="statement not covered" >                if (rcConfig.hasOwnProperty(p)) {</span>
<span class="cstat-no" title="statement not covered" >                    ret[p] = inlineObj[p];</span>
                }
            }
            /* eslint-enable fecs-use-for-of */
        }
    }
    /* eslint-enable no-extra-boolean-cast, no-loop-func */
<span class="cstat-no" title="statement not covered" >    return ret;</span>
};
&nbsp;
/**
 * 匹配行内 csshint-disable xxx, yyy, zzz 的正则
 *
 * @const
 * @type {RegExp}
 */
var INLINE_DISABLE_PATTERN = /\/\*+\s*\bcsshint\-disable\b\s*([^\*\/]*)\s*\*\//gmi;
&nbsp;
/**
 * 分析行内 disable 注释
 *
 * @param {string} fileContent 当前检测的文件内容
 * @param {Object} rcConfig 当前检测的文件的检测规则
 *
 * @return {Object} inline Rule
 */
var analyzeInlineDisableRule = <span class="fstat-no" title="function not covered" >function analyzeInlineDisableRule(fileContent, rcConfig) {</span>
<span class="cstat-no" title="statement not covered" >    var ret = {};</span>
<span class="cstat-no" title="statement not covered" >    var match = null;</span>
    /* eslint-disable no-extra-boolean-cast */
<span class="cstat-no" title="statement not covered" >    while (!!(match = INLINE_DISABLE_PATTERN.exec(fileContent))) {</span>
<span class="cstat-no" title="statement not covered" >        var matchedRules = match[1];</span>
<span class="cstat-no" title="statement not covered" >        if (matchedRules) {</span>
<span class="cstat-no" title="statement not covered" >            var simpleMatchedRules = matchedRules.split(/[^a-z-]/gmi);</span>
<span class="cstat-no" title="statement not covered" >            for (var i = 0, len = simpleMatchedRules.length; i &lt; len; i++) {</span>
<span class="cstat-no" title="statement not covered" >                simpleMatchedRules[i] &amp;&amp; (ret[(0, _util.trim)(simpleMatchedRules[i])] = false);</span>
            }
        } else {
            /* eslint-disable fecs-use-for-of */
<span class="cstat-no" title="statement not covered" >            for (var p in rcConfig) {</span>
<span class="cstat-no" title="statement not covered" >                if (rcConfig.hasOwnProperty(p)) {</span>
<span class="cstat-no" title="statement not covered" >                    ret[p] = false;</span>
                }
            }
            /* eslint-enable fecs-use-for-of */
        }
    }
    /* eslint-enable no-extra-boolean-cast */
<span class="cstat-no" title="statement not covered" >    return ret;</span>
};
&nbsp;
/**
 * 检测 css 文件内容
 *
 * @param {string} fileContent 文件内容
 * @param {string} filePath 文件路径
 * @param {Object=} rcConfig 检测规则的配置，可选
 *
 * @return {Promise} Promise 回调函数的参数即错误信息的集合 {ruleName, line, col, errorChar, message, colorMessage}
 */
<span class="fstat-no" title="function not covered" >function checkString(fileContent, filePath) {</span>
<span class="cstat-no" title="statement not covered" >    var rcConfig = arguments.length &gt; 2 &amp;&amp; arguments[2] !== undefined ? arguments[2] : DEFAULT_CONFIG;</span>
&nbsp;
&nbsp;
<span class="cstat-no" title="statement not covered" >    global.CSSHINT_FONTFAMILY_CASE_FLAG = {};</span>
&nbsp;
    // 这里把文件内容的 \r\n 统一替换成 \n，便于之后获取行号
<span class="cstat-no" title="statement not covered" >    fileContent = fileContent.replace(/\r\n?/g, '\n');</span>
&nbsp;
    // 行内注释改变规则配置
<span class="cstat-no" title="statement not covered" >    var inline = analyzeInlineRule(fileContent, rcConfig);</span>
&nbsp;
    // 行内注释取消规则配置
<span class="cstat-no" title="statement not covered" >    var inlineDisable = analyzeInlineDisableRule(fileContent, rcConfig);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var realConfig = _edpCore.util.extend({}, rcConfig, inline, inlineDisable);</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var maxError = parseInt(realConfig['max-error'], 10);</span>
&nbsp;
    // maxError 为 0 或者非数字的情况，则表示忽略 maxError 即是最大值
<span class="cstat-no" title="statement not covered" >    if (isNaN(maxError) || maxError === 0) {</span>
<span class="cstat-no" title="statement not covered" >        maxError = Number.MAX_VALUE;</span>
    }
&nbsp;
    // postcss 插件集合即规则检测的文件集合
<span class="cstat-no" title="statement not covered" >    var plugins = [];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    Object.getOwnPropertyNames(realConfig).forEach(<span class="fstat-no" title="function not covered" >function (prop) {</span></span>
<span class="cstat-no" title="statement not covered" >        var ruleFilePath = (0, _path.join)(ruleDir, prop) + '.js';</span>
<span class="cstat-no" title="statement not covered" >        if ((0, _fs.existsSync)(ruleFilePath)) {</span>
<span class="cstat-no" title="statement not covered" >            plugins.push(require((0, _path.join)(ruleDir, prop)).check({</span>
                ruleVal: realConfig[prop],
                // 实际上在 postcss 的 plugin 里面通过 node.source.input.css 也可以拿到文件内容
                // 但是通过这种方式拿到的内容是去掉 BOM 的，因此在检测 no-bom 规则时候会有问题
                // 所以这里把文件的原内容传入进去
                fileContent: fileContent,
                filePath: filePath,
                maxError: maxError
            }));
        }
    });
&nbsp;
    // 不合法的信息集合
<span class="cstat-no" title="statement not covered" >    var invalidList = [];</span>
&nbsp;
<span class="cstat-no" title="statement not covered" >    var invalid = {</span>
        path: '',
        messages: []
    };
&nbsp;
<span class="cstat-no" title="statement not covered" >    var checkPromise = new Promise(<span class="fstat-no" title="function not covered" >function (resolve, reject) {</span></span>
<span class="cstat-no" title="statement not covered" >        (0, _postcss2.default)(plugins).process(fileContent).then(<span class="fstat-no" title="function not covered" >function (result) {</span></span>
<span class="cstat-no" title="statement not covered" >            result.warnings().forEach(<span class="fstat-no" title="function not covered" >function (data) {</span></span>
<span class="cstat-no" title="statement not covered" >                invalid.messages.push({</span>
                    ruleName: data.ruleName,
                    line: data.line,
                    col: data.col,
                    errorChar: data.errorChar || '',
                    message: data.message,
                    colorMessage: data.colorMessage
                });
<span class="cstat-no" title="statement not covered" >                if (invalid.path !== filePath) {</span>
<span class="cstat-no" title="statement not covered" >                    invalid.path = filePath;</span>
<span class="cstat-no" title="statement not covered" >                    invalidList.push(invalid);</span>
                }
            });
<span class="cstat-no" title="statement not covered" >            resolve(invalidList);</span>
        }).catch(<span class="fstat-no" title="function not covered" >function (e) {</span>
<span class="cstat-no" title="statement not covered" >            var line = e.line;</span>
            // 根据 line 是否存在来判断是 css parse 的错误还是程序的错误
            /* istanbul ignore else */
<span class="cstat-no" title="statement not covered" >            if (line) {</span>
<span class="cstat-no" title="statement not covered" >                var lineContent = (0, _util.getLineContent)(e.line, fileContent) || '';</span>
<span class="cstat-no" title="statement not covered" >                invalid.messages.push({</span>
                    line: e.line,
                    col: e.column,
                    message: '' + 'CssSyntaxError: ' + e.message,
                    colorMessage: '' + _chalk2.default.red('CssSyntaxError &lt;' + e.reason + '&gt;: ') + _chalk2.default.grey((0, _util.changeColorByIndex)(lineContent, 0, lineContent.substring(0, e.column - 1)))
                });
            } else {
<span class="cstat-skip" title="statement not covered" >                var str = e.toString();</span>
<span class="cstat-skip" title="statement not covered" >                invalid.messages.push({</span>
                    message: str,
                    colorMessage: _chalk2.default.red(str)
                });
            }
&nbsp;
<span class="cstat-no" title="statement not covered" >            if (invalid.path !== filePath) {</span>
<span class="cstat-no" title="statement not covered" >                invalid.path = filePath;</span>
<span class="cstat-no" title="statement not covered" >                invalidList.push(invalid);</span>
            }
&nbsp;
<span class="cstat-no" title="statement not covered" >            reject(invalidList);</span>
        });
    });
&nbsp;
<span class="cstat-no" title="statement not covered" >    return checkPromise;</span>
}
&nbsp;
/**
 * 校验文件
 *
 * @param {Object} file 包含 path, content 键的对象
 * @param {Array} errors 本分类的错误信息数组
 * @param {Function} done 校验完成的通知回调
 *
 * @return {Function} checkString
 */
<span class="fstat-no" title="function not covered" >function check(file, errors, done) {</span>
    // .csshintignore 中配置的文件是指可以忽略 csshint 的文件
<span class="cstat-no" title="statement not covered" >    if ((0, _util.isIgnored)(file.path, '.csshintignore')) {</span>
<span class="cstat-no" title="statement not covered" >        done();</span>
<span class="cstat-no" title="statement not covered" >        return;</span>
    }
&nbsp;
    /**
     * checkString 的 promise 的 reject 和 resolve 的返回值的结构以及处理方式都是一样的
     * reject 指的是 CssSyntaxError 的错误。
     * resolve 代表的是 csshint 检测出来的问题
     *
     * @param {Array.&lt;Object&gt;} invalidList 错误信息集合
     */
<span class="cstat-no" title="statement not covered" >    var callback = <span class="fstat-no" title="function not covered" >function callback(invalidList) {</span></span>
<span class="cstat-no" title="statement not covered" >        if (invalidList.length) {</span>
<span class="cstat-no" title="statement not covered" >            invalidList.forEach(<span class="fstat-no" title="function not covered" >function (invalid) {</span></span>
<span class="cstat-no" title="statement not covered" >                errors.push({</span>
                    path: invalid.path,
                    messages: invalid.messages
                });
            });
        }
<span class="cstat-no" title="statement not covered" >        done();</span>
    };
&nbsp;
<span class="cstat-no" title="statement not covered" >    return checkString(file.content, file.path, (0, _objectAssign2.default)({}, (0, _config.loadConfig)(file.path, true))).then(callback).catch(callback);</span>
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jaGVja2VyLmpzIl0sIm5hbWVzIjpbImNoZWNrU3RyaW5nIiwiY2hlY2siLCJydWxlRGlyIiwiX19kaXJuYW1lIiwiREVGQVVMVF9DT05GSUciLCJnbG9iYWwiLCJDU1NISU5UX0lOVkFMSURfQUxMX0NPVU5UIiwiQ1NTSElOVF9GT05URkFNSUxZX0NBU0VfRkxBRyIsIklOTElORV9QQVRURVJOIiwiYW5hbHl6ZUlubGluZVJ1bGUiLCJmaWxlQ29udGVudCIsInJjQ29uZmlnIiwicmV0IiwiaW5saW5lT2JqIiwibWF0Y2giLCJleGVjIiwibWF0Y2hSdWxlcyIsImpzb25TdHIiLCJyZXBsYWNlIiwid29yZCIsIkpTT04iLCJwYXJzZSIsImUiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJJTkxJTkVfRElTQUJMRV9QQVRURVJOIiwiYW5hbHl6ZUlubGluZURpc2FibGVSdWxlIiwibWF0Y2hlZFJ1bGVzIiwic2ltcGxlTWF0Y2hlZFJ1bGVzIiwic3BsaXQiLCJpIiwibGVuIiwibGVuZ3RoIiwiZmlsZVBhdGgiLCJpbmxpbmUiLCJpbmxpbmVEaXNhYmxlIiwicmVhbENvbmZpZyIsImV4dGVuZCIsIm1heEVycm9yIiwicGFyc2VJbnQiLCJpc05hTiIsIk51bWJlciIsIk1BWF9WQUxVRSIsInBsdWdpbnMiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZm9yRWFjaCIsInJ1bGVGaWxlUGF0aCIsInByb3AiLCJwdXNoIiwicmVxdWlyZSIsInJ1bGVWYWwiLCJpbnZhbGlkTGlzdCIsImludmFsaWQiLCJwYXRoIiwibWVzc2FnZXMiLCJjaGVja1Byb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInByb2Nlc3MiLCJ0aGVuIiwicmVzdWx0Iiwid2FybmluZ3MiLCJydWxlTmFtZSIsImRhdGEiLCJsaW5lIiwiY29sIiwiZXJyb3JDaGFyIiwibWVzc2FnZSIsImNvbG9yTWVzc2FnZSIsImNhdGNoIiwibGluZUNvbnRlbnQiLCJjb2x1bW4iLCJyZWQiLCJyZWFzb24iLCJncmV5Iiwic3Vic3RyaW5nIiwic3RyIiwidG9TdHJpbmciLCJmaWxlIiwiZXJyb3JzIiwiZG9uZSIsImNhbGxiYWNrIiwiY29udGVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFzSmdCQSxXLEdBQUFBLFc7UUFxSEFDLEssR0FBQUEsSzs7QUF0UWhCOztBQUNBOztBQUNBOzs7O0FBQ0E7Ozs7QUFDQTs7OztBQUVBOztBQUNBOztBQUNBOzs7O0FBYkE7Ozs7O0FBZ0JBOztBQUVBOzs7QUFHQSxJQUFNQyxVQUFVLGdCQUFLQyxTQUFMLEVBQWdCLFFBQWhCLENBQWhCOztBQUVBOzs7Ozs7QUFNQSxJQUFNQyxpQkFBaUIsNEJBQWEsRUFBYixFQUFpQix3QkFBVyxHQUFYLEVBQWdCLElBQWhCLENBQWpCLENBQXZCOztBQUVBOzs7OztBQUtBQyxPQUFPQyx5QkFBUCxHQUFtQyxDQUFuQzs7QUFFQTs7Ozs7O0FBTUFELE9BQU9FLDRCQUFQLEdBQXNDLEVBQXRDOztBQUVBOzs7Ozs7QUFNQSxJQUFNQyxpQkFBaUIsaURBQXZCOztBQUVBOzs7Ozs7OztBQVFBLElBQU1DLG9CQUFvQixTQUFwQkEsaUJBQW9CLENBQUNDLFdBQUQsRUFBY0MsUUFBZCxFQUEyQjtBQUNqRCxRQUFNQyxNQUFNLEVBQVo7QUFDQSxRQUFJQyxZQUFZLElBQWhCO0FBQ0EsUUFBSUMsUUFBUSxJQUFaOztBQUVBO0FBQ0E7QUFDQSxXQUFPLENBQUMsRUFBRUEsUUFBUU4sZUFBZU8sSUFBZixDQUFvQkwsV0FBcEIsQ0FBVixDQUFSLEVBQXFEO0FBQ2pELFlBQU1NLGFBQWFGLE1BQU0sQ0FBTixDQUFuQjtBQUNBLFlBQUlHLFVBQVVELFdBQVdFLE9BQVgsQ0FBbUIsZUFBbkIsRUFBb0MsZ0JBQVE7QUFDdEQsZ0JBQUlDLElBQUosRUFBVTtBQUNOQSx1QkFBT0EsS0FBS0QsT0FBTCxDQUFhLEtBQWIsRUFBb0IsRUFBcEIsQ0FBUDtBQUNBLHVCQUFPLE1BQU1DLElBQU4sR0FBYSxHQUFwQjtBQUNIO0FBQ0QsbUJB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Ozs7O0FBT0EsUUFBTUMsV0FBVyxTQUFYQSxRQUFXLGNBQWU7QUFDNUIsWUFBSS9CLFlBQVlwQixNQUFoQixFQUF3QjtBQUNwQm9CLHdCQUFZTixPQUFaLENBQW9CLG1CQUFXO0FBQzNCbUMsdUJBQU9oQyxJQUFQLENBQVk7QUFDUkssMEJBQU1ELFFBQVFDLElBRE47QUFFUkMsOEJBQVVGLFFBQVFFO0FBRlYsaUJBQVo7QUFJSCxhQUxEO0FBTUg7QUFDRDJCO0FBQ0gsS0FWRDs7QUFZQSxXQUFPbEYsWUFDSGdGLEtBQUtJLE9BREYsRUFFSEosS0FBSzFCLElBRkYsRUFHSCw0QkFBYSxFQUFiLEVBQWlCLHdCQUFXMEIsS0FBSzFCLElBQWhCLEVBQXNCLElBQXRCLENBQWpCLENBSEcsRUFJTE8sSUFKSyxDQUlBc0IsUUFKQSxFQUlVWixLQUpWLENBSWdCWSxRQUpoQixDQUFQO0FBS0giLCJmaWxlIjoiY2hlY2tlci5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGZpbGUgY2hlY2tlciDpkojlr7kgY3NzIOaWh+S7tueahOagoemqjOWZqFxuICogQGF1dGhvciBpZWxnbmF3KHd1amkwMjIzQGdtYWlsLmNvbSlcbiAqL1xuXG5pbXBvcnQge2pvaW59IGZyb20gJ3BhdGgnO1xuaW1wb3J0IHtleGlzdHNTeW5jfSBmcm9tICdmcyc7XG5pbXBvcnQgY2hhbGsgZnJvbSAnY2hhbGsnO1xuaW1wb3J0IHBvc3Rjc3MgZnJvbSAncG9zdGNzcyc7XG5pbXBvcnQgb2JqZWN0QXNzaWduIGZyb20gJ29iamVjdC1hc3NpZ24nO1xuXG5pbXBvcnQge2lzSWdub3JlZCwgdHJpbSwgZ2V0TGluZUNvbnRlbnQsIGNoYW5nZUNvbG9yQnlJbmRleH0gZnJvbSAnLi91dGlsJztcbmltcG9ydCB7dXRpbCBhcyBlZHBVdGlsfSBmcm9tICdlZHAtY29yZSc7XG5pbXBvcnQge2xvYWRDb25maWd9IGZyb20gJy4vY29uZmlnJztcblxuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogcnVsZSDpgLvovpHlrp7njrDnmoTmlofku7blpLnot6/lvoRcbiAqL1xuY29uc3QgcnVsZURpciA9IGpvaW4oX19kaXJuYW1lLCAnLi9ydWxlJyk7XG5cbi8qKlxuICog5qOA5rWL55qE6buY6K6k6YWN572uXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7T2JqZWN0fVxuICovXG5jb25zdCBERUZBVUxUX0NPTkZJRyA9IG9iamVjdEFzc2lnbih7fSwgbG9hZENvbmZpZygnLicsIHRydWUpKTtcblxuLyoqXG4gKiDkuLogbWF4LWVycm9yIOacjeWKoeeahO+8jOiusOW9leaVtOS4queahOmUmeivr+S4quaVsFxuICpcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmdsb2JhbC5DU1NISU5UX0lOVkFMSURfQUxMX0NPVU5UID0gMDtcblxuLyoqXG4gKiDorrDlvZXpobnnm67nuqfliKvnmoQgZm9udC1mYW1pbHkg5aSn5bCP5YaZ5L+h5oGv77yMa2V5IOS4uuWwj+WGmeagvOW8j++8jHZhbHVlIOS4uuecn+WunueahOWAvFxuICogeydhcmlhbCc6ICdBcmlhbCd9XG4gKlxuICogQHR5cGUge09iamVjdH1cbiAqL1xuZ2xvYmFsLkNTU0hJTlRfRk9OVEZBTUlMWV9DQVNFX0ZMQUcgPSB7fTtcblxuLyoqXG4gKiDljLnphY3ooYzlhoUgY3NzaGludCBrZXk6IHZhbHVlLCAuLi4g55qE5q2j5YiZXG4gKlxuICogQGNvbnN0XG4gKiBAdHlwZSB7UmVnRXhwfVxuICovXG5jb25zdCBJTkxJTkVfUEFUVEVSTiA9IC9cXC9cXCorXFxzKlxcYmNzc2hpbnRbXi1kaXNhYmxlXVxcYlxccyooLiopXFxzKlxcKlxcLy9nbWk7XG5cbi8qKlxuICog5YiG5p6Q6KGM5YaF5rOo6YeKXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGZpbGVDb250ZW50IOW9k+WJjeajgOa1i+eahOaWh+S7tuWGheWuuVxuICogQHBhcmFtIHtPYmplY3R9IHJjQ29uZmlnIOW9k+WJjeajgOa1i+eahOaWh+S7tueahOajgOa1i+inhOWImVxuICpcbiAqIEByZXR1cm4ge09iamVjdH0gaW5saW5lIFJ1bGVcbiAqL1xuY29uc3QgYW5hbHl6ZUlubGluZVJ1bGUgPSAoZmlsZUNvbnRlbnQsIHJjQ29uZmlnKSA9PiB7XG4gICAgY29uc3QgcmV0ID0ge307XG4gICAgbGV0IGlubGluZU9iaiA9IG51bGw7XG4gICAgbGV0IG1hdGNoID0gbnVsbDtcblxuICAgIC8qIGpzaGludCBsb29wZnVuYzp0cnVlICovXG4gICAgLyogZXNsaW50LWRpc2FibGUgbm8tZXh0cmEtYm9vbGVhbi1jYXN0LCBuby1sb29wLWZ1bmMgKi9cbiAgICB3aGlsZSAoISEobWF0Y2ggPSBJTkxJTkVfUEFUVEVSTi5leGVjKGZpbGVDb250ZW50KSkpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hSdWxlcyA9IG1hdGNoWzFdO1xuICAgICAgICBsZXQganNvblN0ciA9IG1hdGNoUnVsZXMucmVwbGFjZSgvKFteLF0qKSg/PTopL2csIHdvcmQgPT4ge1xuICAgICAgICAgICAgaWYgKHdvcmQpIHtcbiAgICAgICAgICAgICAgICB3b3JkID0gd29yZC5yZXBsYWNlKC9cXHMvZywgJycpO1xuICAgICAgICAgICAgICAgIHJldHVybiAnXCInICsgd29yZCArICdcIic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH0pO1xuICAgICAgICBqc29uU3RyID0gJ3snICsganNvblN0ciArICd9JztcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaW5saW5lT2JqID0gSlNPTi5wYXJzZShqc29uU3RyKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge31cblxuICAgICAgICBpZiAoaW5saW5lT2JqKSB7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBmZWNzLXVzZS1mb3Itb2YgKi9cbiAgICAgICAgICAgIGZvciAoY29uc3QgcCBpbiBpbmxpbmVPYmopIHtcbiAgICAgICAgICAgICAgICBpZiAocmNDb25maWcuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0W3BdID0gaW5saW5lT2JqW3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgZmVjcy11c2UtZm9yLW9mICovXG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1leHRyYS1ib29sZWFuLWNhc3QsIG5vLWxvb3AtZnVuYyAqL1xuICAgIHJldHVybiByZXQ7XG59O1xuXG4vKipcbiAqIOWMuemFjeihjOWGhSBjc3NoaW50LWRpc2FibGUgeHh4LCB5eXksIHp6eiDnmoTmraPliJlcbiAqXG4gKiBAY29uc3RcbiAqIEB0eXBlIHtSZWdFeHB9XG4gKi9cbmNvbnN0IElOTElORV9ESVNBQkxFX1BBVFRFUk4gPSAvXFwvXFwqK1xccypcXGJjc3NoaW50XFwtZGlzYWJsZVxcYlxccyooW15cXCpcXC9dKilcXHMqXFwqXFwvL2dtaTtcblxuLyoqXG4gKiDliIbmnpDooYzlhoUgZGlzYWJsZSDms6jph4pcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gZmlsZUNvbnRlbnQg5b2T5YmN5qOA5rWL55qE5paH5Lu25YaF5a65XG4gKiBAcGFyYW0ge09iamVjdH0gcmNDb25maWcg5b2T5YmN5qOA5rWL55qE5paH5Lu255qE5qOA5rWL6KeE5YiZXG4gKlxuICogQHJldHVybiB7T2JqZWN0fSBpbmxpbmUgUnVsZVxuICovXG5jb25zdCBhbmFseXplSW5saW5lRGlzYWJsZVJ1bGUgPSAoZmlsZUNvbnRlbnQsIHJjQ29uZmlnKSA9PiB7XG4gICAgY29uc3QgcmV0ID0ge307XG4gICAgbGV0IG1hdGNoID0gbnVsbDtcbiAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1leHRyYS1ib29sZWFuLWNhc3QgKi9cbiAgICB3aGlsZSAoISEobWF0Y2ggPSBJTkxJTkVfRElTQUJMRV9QQVRURVJOLmV4ZWMoZmlsZUNvbnRlbnQpKSkge1xuICAgICAgICBjb25zdCBtYXRjaGVkUnVsZXMgPSBtYXRjaFsxXTtcbiAgICAgICAgaWYgKG1hdGNoZWRSdWxlcykge1xuICAgICAgICAgICAgY29uc3Qgc2ltcGxlTWF0Y2hlZFJ1bGVzID0gbWF0Y2hlZFJ1bGVzLnNwbGl0KC9bXmEtei1dL2dtaSk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gc2ltcGxlTWF0Y2hlZFJ1bGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc2ltcGxlTWF0Y2hlZFJ1bGVzW2ldICYmIChyZXRbdHJpbShzaW1wbGVNYXRjaGVkUnVsZXNbaV0pXSA9IGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIGZlY3MtdXNlLWZvci1vZiAqL1xuICAgICAgICAgICAgZm9yIChjb25zdCBwIGluIHJjQ29uZmlnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJjQ29uZmlnLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldFtwXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGVzbGludC1lbmFibGUgZmVjcy11c2UtZm9yLW9mICovXG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogZXNsaW50LWVuYWJsZSBuby1leHRyYS1ib29sZWFuLWNhc3QgKi9cbiAgICByZXR1cm4gcmV0O1xufTtcblxuLyoqXG4gKiDmo4DmtYsgY3NzIOaWh+S7tuWGheWuuVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlQ29udGVudCDmlofku7blhoXlrrlcbiAqIEBwYXJhbSB7c3RyaW5nfSBmaWxlUGF0aCDmlofku7bot6/lvoRcbiAqIEBwYXJhbSB7T2JqZWN0PX0gcmNDb25maWcg5qOA5rWL6KeE5YiZ55qE6YWN572u77yM5Y+v6YCJXG4gKlxuICogQHJldHVybiB7UHJvbWlzZX0gUHJvbWlzZSDlm57osIPlh73mlbDnmoTlj4LmlbDljbPplJnor6/kv6Hmga/nmoTpm4blkIgge3J1bGVOYW1lLCBsaW5lLCBjb2wsIGVycm9yQ2hhciwgbWVzc2FnZSwgY29sb3JNZXNzYWdlfVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tTdHJpbmcoZmlsZUNvbnRlbnQsIGZpbGVQYXRoLCByY0NvbmZpZyA9IERFRkFVTFRfQ09ORklHKSB7XG5cbiAgICBnbG9iYWwuQ1NTSElOVF9GT05URkFNSUxZX0NBU0VfRkxBRyA9IHt9O1xuXG4gICAgLy8g6L+Z6YeM5oqK5paH5Lu25YaF5a6555qEIFxcclxcbiDnu5/kuIDmm7/mjaLmiJAgXFxu77yM5L6/5LqO5LmL5ZCO6I635Y+W6KGM5Y+3XG4gICAgZmlsZUNvbnRlbnQgPSBmaWxlQ29udGVudC5yZXBsYWNlKC9cXHJcXG4/L2csICdcXG4nKTtcblxuICAgIC8vIOihjOWGheazqOmHiuaUueWPmOinhOWImemFjee9rlxuICAgIGNvbnN0IGlubGluZSA9IGFuYWx5emVJbmxpbmVSdWxlKGZpbGVDb250ZW50LCByY0NvbmZpZyk7XG5cbiAgICAvLyDooYzlhoXms6jph4rlj5bmtojop4TliJnphY3nva5cbiAgICBjb25zdCBpbmxpbmVEaXNhYmxlID0gYW5hbHl6ZUlubGluZURpc2FibGVSdWxlKGZpbGVDb250ZW50LCByY0NvbmZpZyk7XG5cbiAgICBjb25zdCByZWFsQ29uZmlnID0gZWRwVXRpbC5leHRlbmQoe30sIHJjQ29uZmlnLCBpbmxpbmUsIGlubGluZURpc2FibGUpO1xuXG4gICAgbGV0IG1heEVycm9yID0gcGFyc2VJbnQocmVhbENvbmZpZ1snbWF4LWVycm9yJ10sIDEwKTtcblxuICAgIC8vIG1heEVycm9yIOS4uiAwIOaIluiAhemdnuaVsOWtl+eahOaDheWGte+8jOWImeihqOekuuW/veeVpSBtYXhFcnJvciDljbPmmK/mnIDlpKflgLxcbiAgICBpZiAoaXNOYU4obWF4RXJyb3IpIHx8IG1heEVycm9yID09PSAwKSB7XG4gICAgICAgIG1heEVycm9yID0gTnVtYmVyLk1BWF9WQUxVRTtcbiAgICB9XG5cbiAgICAvLyBwb3N0Y3NzIOaPkuS7tumbhuWQiOWNs+inhOWImeajgOa1i+eahOaWh+S7tumbhuWQiFxuICAgIGNvbnN0IHBsdWdpbnMgPSBbXTtcblxuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFxuICAgICAgICByZWFsQ29uZmlnXG4gICAgKS5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgICBjb25zdCBydWxlRmlsZVBhdGggPSBqb2luKHJ1bGVEaXIsIHByb3ApICsgJy5qcyc7XG4gICAgICAgIGlmIChleGlzdHNTeW5jKHJ1bGVGaWxlUGF0aCkpIHtcbiAgICAgICAgICAgIHBsdWdpbnMucHVzaChcbiAgICAgICAgICAgICAgICByZXF1aXJlKGpvaW4ocnVsZURpciwgcHJvcCkpLmNoZWNrKHtcbiAgICAgICAgICAgICAgICAgICAgcnVsZVZhbDogcmVhbENvbmZpZ1twcm9wXSxcbiAgICAgICAgICAgICAgICAgICAgLy8g5a6e6ZmF5LiK5ZyoIHBvc3Rjc3Mg55qEIHBsdWdpbiDph4zpnaLpgJrov4cgbm9kZS5zb3VyY2UuaW5wdXQuY3NzIOS5n+WPr+S7peaLv+WIsOaWh+S7tuWGheWuuVxuICAgICAgICAgICAgICAgICAgICAvLyDkvYbmmK/pgJrov4fov5nnp43mlrnlvI/mi7/liLDnmoTlhoXlrrnmmK/ljrvmjokgQk9NIOeahO+8jOWboOatpOWcqOajgOa1iyBuby1ib20g6KeE5YiZ5pe25YCZ5Lya5pyJ6Zeu6aKYXG4gICAgICAgICAgICAgICAgICAgIC8vIOaJgOS7pei/memHjOaKiuaWh+S7tueahOWOn+WGheWuueS8oOWFpei/m+WOu1xuICAgICAgICAgICAgICAgICAgICBmaWxlQ29udGVudDogZmlsZUNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIGZpbGVQYXRoOiBmaWxlUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgbWF4RXJyb3I6IG1heEVycm9yXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIOS4jeWQiOazleeahOS/oeaBr+mbhuWQiFxuICAgIGNvbnN0IGludmFsaWRMaXN0ID0gW107XG5cbiAgICBjb25zdCBpbnZhbGlkID0ge1xuICAgICAgICBwYXRoOiAnJyxcbiAgICAgICAgbWVzc2FnZXM6IFtdXG4gICAgfTtcblxuICAgIGNvbnN0IGNoZWNrUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgcG9zdGNzcyhwbHVnaW5zKS5wcm9jZXNzKGZpbGVDb250ZW50KS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICByZXN1bHQud2FybmluZ3MoKS5mb3JFYWNoKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIGludmFsaWQubWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHJ1bGVOYW1lOiBkYXRhLnJ1bGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICBsaW5lOiBkYXRhLmxpbmUsXG4gICAgICAgICAgICAgICAgICAgIGNvbDogZGF0YS5jb2wsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yQ2hhcjogZGF0YS5lcnJvckNoYXIgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3JNZXNzYWdlOiBkYXRhLmNvbG9yTWVzc2FnZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbnZhbGlkLnBhdGggIT09IGZpbGVQYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgIGludmFsaWQucGF0aCA9IGZpbGVQYXRoO1xuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkTGlzdC5wdXNoKGludmFsaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzb2x2ZShpbnZhbGlkTGlzdCk7XG4gICAgICAgIH0pLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgbGluZSA9IGUubGluZTtcbiAgICAgICAgICAgIC8vIOagueaNriBsaW5lIOaYr+WQpuWtmOWcqOadpeWIpOaWreaYryBjc3MgcGFyc2Ug55qE6ZSZ6K+v6L+Y5piv56iL5bqP55qE6ZSZ6K+vXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgICAgaWYgKGxpbmUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lQ29udGVudCA9IGdldExpbmVDb250ZW50KGUubGluZSwgZmlsZUNvbnRlbnQpIHx8ICcnO1xuICAgICAgICAgICAgICAgIGludmFsaWQubWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGxpbmU6IGUubGluZSxcbiAgICAgICAgICAgICAgICAgICAgY29sOiBlLmNvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJydcbiAgICAgICAgICAgICAgICAgICAgICAgICsgJ0Nzc1N5bnRheEVycm9yOiAnXG4gICAgICAgICAgICAgICAgICAgICAgICArIGUubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgY29sb3JNZXNzYWdlOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKyBjaGFsay5yZWQoJ0Nzc1N5bnRheEVycm9yIDwnICsgZS5yZWFzb24gKyAnPjogJylcbiAgICAgICAgICAgICAgICAgICAgICAgICsgY2hhbGsuZ3JleShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VDb2xvckJ5SW5kZXgobGluZUNvbnRlbnQsIDAsIGxpbmVDb250ZW50LnN1YnN0cmluZygwLCBlLmNvbHVtbiAtIDEpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyID0gZS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGludmFsaWQubWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHN0cixcbiAgICAgICAgICAgICAgICAgICAgY29sb3JNZXNzYWdlOiBjaGFsay5yZWQoc3RyKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaW52YWxpZC5wYXRoICE9PSBmaWxlUGF0aCkge1xuICAgICAgICAgICAgICAgIGludmFsaWQucGF0aCA9IGZpbGVQYXRoO1xuICAgICAgICAgICAgICAgIGludmFsaWRMaXN0LnB1c2goaW52YWxpZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlamVjdChpbnZhbGlkTGlzdCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGNoZWNrUHJvbWlzZTtcbn1cblxuLyoqXG4gKiDmoKHpqozmlofku7ZcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gZmlsZSDljIXlkKsgcGF0aCwgY29udGVudCDplK7nmoTlr7nosaFcbiAqIEBwYXJhbSB7QXJyYXl9IGVycm9ycyDmnKzliIbnsbvnmoTplJnor6/kv6Hmga/mlbDnu4RcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGRvbmUg5qCh6aqM5a6M5oiQ55qE6YCa55+l5Zue6LCDXG4gKlxuICogQHJldHVybiB7RnVuY3Rpb259IGNoZWNrU3RyaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVjayhmaWxlLCBlcnJvcnMsIGRvbmUpIHtcbiAgICAvLyAuY3NzaGludGlnbm9yZSDkuK3phY3nva7nmoTmlofku7bmmK/mjIflj6/ku6Xlv73nlaUgY3NzaGludCDnmoTmlofku7ZcbiAgICBpZiAoaXNJZ25vcmVkKGZpbGUucGF0aCwgJy5jc3NoaW50aWdub3JlJykpIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogY2hlY2tTdHJpbmcg55qEIHByb21pc2Ug55qEIHJlamVjdCDlkowgcmVzb2x2ZSDnmoTov5Tlm57lgLznmoTnu5PmnoTku6Xlj4rlpITnkIbmlrnlvI/pg73mmK/kuIDmoLfnmoRcbiAgICAgKiByZWplY3Qg5oyH55qE5pivIENzc1N5bnRheEVycm9yIOeahOmUmeivr+OAglxuICAgICAqIHJlc29sdmUg5Luj6KGo55qE5pivIGNzc2hpbnQg5qOA5rWL5Ye65p2l55qE6Zeu6aKYXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5LjxPYmplY3Q+fSBpbnZhbGlkTGlzdCDplJnor6/kv6Hmga/pm4blkIhcbiAgICAgKi9cbiAgICBjb25zdCBjYWxsYmFjayA9IGludmFsaWRMaXN0ID0+IHtcbiAgICAgICAgaWYgKGludmFsaWRMaXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgaW52YWxpZExpc3QuZm9yRWFjaChpbnZhbGlkID0+IHtcbiAgICAgICAgICAgICAgICBlcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGludmFsaWQucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZXM6IGludmFsaWQubWVzc2FnZXNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGRvbmUoKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIGNoZWNrU3RyaW5nKFxuICAgICAgICBmaWxlLmNvbnRlbnQsXG4gICAgICAgIGZpbGUucGF0aCxcbiAgICAgICAgb2JqZWN0QXNzaWduKHt9LCBsb2FkQ29uZmlnKGZpbGUucGF0aCwgdHJ1ZSkpXG4gICAgKS50aGVuKGNhbGxiYWNrKS5jYXRjaChjYWxsYmFjayk7XG59XG4iXX0=
&nbsp;</pre></td></tr>
</table></pre>
</div>
<div class="footer">
    <div class="meta">Generated by <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a> at Fri Apr 21 2017 12:12:09 GMT+0000 (UTC)</div>
</div>
</body>
</html>
